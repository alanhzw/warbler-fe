import{r as _,O as S,n as h,g as J,Z as $}from"./index-5f50f60a.js";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const w=n=>typeof n<"u";function y(n){return JSON.parse(JSON.stringify(n))}function E(n,o,x,O={}){var c,u,f;const{clone:r=!1,passive:V=!1,eventName:N,deep:d=!1,defaultValue:T,shouldEmit:p}=O,t=$(),m=x||(t==null?void 0:t.emit)||((c=t==null?void 0:t.$emit)==null?void 0:c.bind(t))||((f=(u=t==null?void 0:t.proxy)==null?void 0:u.$emit)==null?void 0:f.bind(t==null?void 0:t.proxy));let l=N;o||(o="modelValue"),l=l||`update:${o.toString()}`;const g=e=>r?typeof r=="function"?r(e):y(e):e,v=()=>w(n[o])?g(n[o]):T,b=e=>{p?p(e)&&m(l,e):m(l,e)};if(V){const e=v(),a=_(e);let i=!1;return S(()=>n[o],s=>{i||(i=!0,a.value=g(s),h(()=>i=!1))}),S(a,s=>{!i&&(s!==n[o]||d)&&b(s)},{deep:d}),a}else return J({get(){return v()},set(e){b(e)}})}export{E as u};
