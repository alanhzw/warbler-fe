import{r as w,w as z,n as M,h as k,v as Q,e as C,o as c,c as x,b as l,t as B,g as s,x as _,F as O,j as T,y as q,u as r,E as R,z as A,A as X,p as L,a as G,B as Y,_ as D,C as Z,d as J,D as W,G as ee,H as te,I as oe,J as j,K as le,L as ne}from"./index-3f3eb921.js";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const ae=e=>typeof e<"u";function ie(e){return JSON.parse(JSON.stringify(e))}function se(e,t,d,n={}){var i,o,f;const{clone:y=!1,passive:b=!1,eventName:h,deep:a=!1,defaultValue:S,shouldEmit:m}=n,p=Q(),I=d||(p==null?void 0:p.emit)||((i=p==null?void 0:p.$emit)==null?void 0:i.bind(p))||((f=(o=p==null?void 0:p.proxy)==null?void 0:o.$emit)==null?void 0:f.bind(p==null?void 0:p.proxy));let V=h;t||(t="modelValue"),V=V||`update:${t.toString()}`;const U=v=>y?typeof y=="function"?y(v):ie(v):v,u=()=>ae(e[t])?U(e[t]):S,$=v=>{m?m(v)&&I(V,v):I(V,v)};if(b){const v=u(),P=w(v);let F=!1;return z(()=>e[t],N=>{F||(F=!0,P.value=U(N),M(()=>F=!1))}),z(P,N=>{!F&&(N!==e[t]||a)&&$(N)},{deep:a}),P}else return k({get(){return u()},set(v){$(v)}})}const de=["年","月","天"],re=["天","时","分","秒"],H=e=>(L("data-v-864144f5"),e=e(),G(),e),ce={class:"form-item"},ue={class:"form-item__no"},_e=H(()=>l("div",{class:"form-item__text"},"你平均每",-1)),fe=H(()=>l("div",{class:"form-item__text"},"的时间为",-1)),me=C({__name:"form-item",props:{formItemData:null,formItemIndex:null},emits:["update:formItemData"],setup(e,{emit:t}){const n=se(e,"formItemData",t);return(i,o)=>{const f=Y,y=R,b=A,h=X;return c(),x("div",ce,[l("div",ue,B(`${e.formItemIndex+4}.`),1),_e,s(y,{modelValue:r(n).frequency,"onUpdate:modelValue":o[0]||(o[0]=a=>r(n).frequency=a),placeholder:"请选择",style:{width:"100px"}},{default:_(()=>[(c(!0),x(O,null,T(r(de),a=>(c(),q(f,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),s(b,{modelValue:r(n).event,"onUpdate:modelValue":o[1]||(o[1]=a=>r(n).event=a),clearable:"",style:{width:"240px","margin-left":"8px"},placeholder:"请输入"},null,8,["modelValue"]),fe,s(b,{modelValue:r(n).time,"onUpdate:modelValue":o[2]||(o[2]=a=>r(n).time=a),clearable:"",style:{width:"100px"},placeholder:"请输入"},null,8,["modelValue"]),s(y,{modelValue:r(n).timeUnit,"onUpdate:modelValue":o[3]||(o[3]=a=>r(n).timeUnit=a),placeholder:"请选择",style:{width:"100px",margin:"0 8px"}},{default:_(()=>[(c(!0),x(O,null,T(r(re),a=>(c(),q(f,{key:a,label:a,value:a},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),s(h,{modelValue:r(n).backgroundColor,"onUpdate:modelValue":o[4]||(o[4]=a=>r(n).backgroundColor=a)},null,8,["modelValue"])])}}});const pe=D(me,[["__scopeId","data-v-864144f5"]]),g=e=>(L("data-v-c9f2e9c2"),e=e(),G(),e),ve=g(()=>l("div",{class:"config-life-drawer_header"},"分配人生",-1)),ge=g(()=>l("div",null,null,-1)),ye={class:"config-life-body"},be={class:"config-life-body_form-item"},he=g(()=>l("div",{class:"config-life-body_form-item__no"},"1.",-1)),xe=g(()=>l("div",{class:"config-life-body_form-item__text"},"你于",-1)),Ve=g(()=>l("div",{class:"config-life-body_form-item__text"},"出生",-1)),ke={class:"config-life-body_form-item"},we=g(()=>l("div",{class:"config-life-body_form-item__no"},"2.",-1)),Ie=g(()=>l("div",{class:"config-life-body_form-item__text"},"你能活到",-1)),$e=g(()=>l("div",{class:"config-life-body_form-item__text"},"岁",-1)),Ce={class:"config-life-body_form-item"},De=g(()=>l("div",{class:"config-life-body_form-item__no"},"3.",-1)),Se=g(()=>l("div",{class:"config-life-body_form-item__text"},"你希望生成",-1)),Ue=g(()=>l("div",{class:"config-life-body_form-item__text"},"个格子",-1)),Fe={style:{flex:"auto"}},Ne=C({__name:"config-life-drawer",props:{formData:null},setup(e,{expose:t}){const d=e,n={birthday:"",age:"80",gridNum:"400",formData:[]},i=w(n),o=w(!1);function f(){o.value=!0}function y(){o.value=!1}function b(){o.value=!1}function h(){i.value=d.formData}function a(){i.value=n}return z(()=>o.value,()=>{o.value&&h(),o.value||a()},{immediate:!1}),t({openDrawer:f}),(S,m)=>{const p=W,I=A,V=ee,U=Z;return c(),q(U,{modelValue:o.value,"onUpdate:modelValue":m[3]||(m[3]=u=>o.value=u),size:"850"},{header:_(()=>[ve]),default:_(()=>[ge,l("div",ye,[l("div",be,[he,xe,s(p,{modelValue:i.value.birthday,"onUpdate:modelValue":m[0]||(m[0]=u=>i.value.birthday=u),style:{width:"240px"},type:"datetime",placeholder:"请选择"},null,8,["modelValue"]),Ve]),l("div",ke,[we,Ie,s(I,{modelValue:i.value.age,"onUpdate:modelValue":m[1]||(m[1]=u=>i.value.age=u),clearable:"",style:{width:"240px"},placeholder:"请输入"},null,8,["modelValue"]),$e]),l("div",Ce,[De,Se,s(I,{modelValue:i.value.gridNum,"onUpdate:modelValue":m[2]||(m[2]=u=>i.value.gridNum=u),clearable:"",style:{width:"240px"},placeholder:"请输入"},null,8,["modelValue"]),Ue]),(c(!0),x(O,null,T(i.value.formData,(u,$)=>(c(),q(pe,{key:$,class:"config-life-body_form-item","form-item-index":$,"form-item-data":u},null,8,["form-item-index","form-item-data"]))),128))])]),footer:_(()=>[l("div",Fe,[s(V,{onClick:y},{default:_(()=>[J("取消")]),_:1}),s(V,{type:"primary",onClick:b},{default:_(()=>[J("确定")]),_:1})])]),_:1},8,["modelValue"])}}});const Ee=D(Ne,[["__scopeId","data-v-c9f2e9c2"]]),Be=e=>(L("data-v-62b65f60"),e=e(),G(),e),Oe={class:"block-item"},Te={class:"block-item_title"},qe=Be(()=>l("div",{class:"block-item_title__line"},null,-1)),Le={class:"block-item_title__text"},Ge={class:"block-item_content"},Pe=C({__name:"block-item",props:{title:null},setup(e){return(t,d)=>(c(),x("div",Oe,[l("div",Te,[qe,l("div",Le,B(e.title),1)]),l("div",Ge,[te(t.$slots,"default",{},void 0,!0)])]))}});const E=D(Pe,[["__scopeId","data-v-62b65f60"]]),ze={class:"grid-life"},Je=C({__name:"grid-life",props:{grids:null},setup(e){const t=e;return(d,n)=>(c(),x("div",ze,[(c(!0),x(O,null,T(t.grids,i=>(c(),x("div",{key:i.id,class:"grid",style:oe({backgroundColor:i.backgroundColor})},null,4))),128))]))}});const je=D(Je,[["__scopeId","data-v-aaa9ffce"]]),Ae=e=>{const t=w(j()),d=k(()=>j(e.value.birthday)),n=k(()=>d.value.add(Number(e.value.age),"year")),i=k(()=>({year:t.value.diff(d.value,"year",!0).toFixed(1),month:t.value.diff(d.value,"month",!0).toFixed(1),day:t.value.diff(d.value,"day",!0).toFixed(1),hour:t.value.diff(d.value,"hour",!0).toFixed(1),minute:t.value.diff(d.value,"minute",!0).toFixed(1),second:t.value.diff(d.value,"second")})),o=k(()=>({year:n.value.diff(t.value,"year",!0).toFixed(1),month:n.value.diff(t.value,"month",!0).toFixed(1),day:n.value.diff(t.value,"day",!0).toFixed(1),hour:n.value.diff(t.value,"hour",!0).toFixed(1),minute:n.value.diff(t.value,"minute",!0).toFixed(1),second:n.value.diff(t.value,"second")})),f=k(()=>Array.from({length:Number(e.value.gridNum)},(b,h)=>({id:h,backgroundColor:"#e2e2e2"})));return{pastTime:i,deathTime:n,remainTime:o,grids:f}},K=e=>(L("data-v-2353bde8"),e=e(),G(),e),We={class:"life-grid"},He={class:"life-grid__content"},Ke={class:"config-life"},Me=K(()=>l("div",{class:"your-life"},null,-1)),Qe=K(()=>l("div",{class:"grid-meaning"},null,-1)),Re=C({__name:"index",setup(e){const t=w({birthday:"",age:"80",gridNum:"400",formData:[{frequency:"天",event:"睡觉",time:"8",timeUnit:"时",backgroundColor:"#c1e8f9"},{frequency:"天",event:"工作",time:"8",timeUnit:"时",backgroundColor:"#ab9f93"},{frequency:"月",event:"陪伴父母",time:"1",timeUnit:"天",backgroundColor:"#7ea1b7"},{frequency:"天",event:"陪伴孩子",time:"5",timeUnit:"时",backgroundColor:"#e3a6ab"}]}),{pastTime:d,remainTime:n,grids:i}=Ae(t),o=w();function f(){o.value.openDrawer()}return(y,b)=>{const h=W,a=ne;return c(),x("div",We,[l("div",He,[J(B(r(d))+" "+B(r(n))+" ",1),s(E,{title:"分配人生"},{default:_(()=>[l("div",Ke,[s(h,{modelValue:t.value.birthday,"onUpdate:modelValue":b[0]||(b[0]=S=>t.value.birthday=S),style:{width:"100%"},type:"datetime",placeholder:"选择你的生日"},null,8,["modelValue"]),s(a,{style:{"margin-left":"8px",cursor:"pointer","font-size":"20px"},onClick:f},{default:_(()=>[s(r(le))]),_:1})])]),_:1}),s(E,{title:"你的人生"},{default:_(()=>[Me]),_:1}),s(E,{title:"人生小格"},{default:_(()=>[s(je,{grids:r(i)},null,8,["grids"])]),_:1}),s(E,{title:"格子含义"},{default:_(()=>[Qe]),_:1})]),s(Ee,{ref_key:"configDrawer",ref:o,"form-data":t.value},null,8,["form-data"])])}}});const Ye=D(Re,[["__scopeId","data-v-2353bde8"]]);export{Ye as default};
